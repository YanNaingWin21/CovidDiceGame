window.__require=function t(e,i,a){function r(s,o){if(!i[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!o&&l)return l(c,!0);if(n)return n(c,!0);throw new Error("Cannot find module '"+s+"'")}}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return r(e[s][1][t]||t)},u,u.exports,t,e,i,a)}return i[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<a.length;s++)r(a[s]);return r}({snakeLadderMainController:[function(t,e,i){"use strict";cc._RF.push(e,"c455fCh0cNIm7fc9fXvcput","snakeLadderMainController");var a=90;cc.Class({extends:cc.Component,properties:{boardLayout:{default:null,type:cc.Node},tilePrefab:{default:null,type:cc.Prefab},diceNumLabel:{default:null,type:cc.Label},avatar:{default:null,type:cc.Node},startBtn:{default:null,type:cc.Button},minuteLabel:{default:null,type:cc.Label},secondsLabel:{default:null,type:cc.Label},_currentTile:0,_turnCount:0,_diceNum:0,gameOverLayout:{default:null,type:cc.Node},winGame:{default:null,type:cc.Node},loseGame:{default:null,type:cc.Node}},onLoad:function(){this.setUpBoard(),this.schedule(this.setTime,1)},start:function(){},setUpBoard:function(){for(var t=-50,e=50,i=0;i<22;i++){var a=cc.instantiate(this.tilePrefab);if(a.getComponent("tileController").setUpTile(i),i>=0&&i<=7){var r=t-100*i;a.setPosition(r,e),7==i&&(t=r)}else i>=8&&i<=11?(e+=100,a.setPosition(t,e)):i>=12&&i<=18?(t+=100,a.setPosition(t,e)):(e-=100,a.setPosition(t,e));this.boardLayout.addChild(a)}},rollDice:function(){var t=this.getRandomNum(1,6);this.diceNumLabel.string=t,this._diceNum=t,this.startBtn.interactable=!1,this.moveAvatarTileByTile()},getRandomNum:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},moveAvatar:function(t,e){if(t>=0&&t<=7?this.turnCarLeft():t>=8&&t<=18?this.turnCarRight():this.turnCarLeft(),e){this._currentTile=t;var i=this.boardLayout.children[this._currentTile].position;this.avatar.position=i}else if(t<22){var a=this.boardLayout.children[t].position;cc.log(a);var r=cc.moveTo(.3,a);this.avatar.runAction(r)}else{this._currentTile=0;var n=this.boardLayout.children[this._currentTile].position,s=cc.moveTo(.3,n);this.avatar.runAction(s)}},moveAvatarTileByTile:function(){this._turnCount+=1,this._turnCount<this._diceNum?(this._currentTile+=1,this.moveAvatar(this._currentTile,!1),this.schedule(this.moveAvatarTileByTile,.3)):(this._currentTile+=1,this.moveAvatar(this._currentTile,!1),this._turnCount=0,this.unschedule(this.moveAvatarTileByTile),this.scheduleOnce(this.useTileAbility,.5))},useTileAbility:function(){switch(this._currentTile){case 2:this.moveAvatar(4,!0);break;case 3:this.moveAvatar(1,!0);break;case 5:this.moveAvatar(13,!0);break;case 6:case 9:this.moveAvatar(0,!0);break;case 14:this.moveAvatar(7,!0);break;case 16:this.moveAvatar(11,!0);break;case 17:this.moveAvatar(7,!0);break;case 19:this.moveAvatar(13,!0);break;case 20:this.moveAvatar(18,!0);break;case 21:this.winningGame()}this.scheduleOnce(this.enableButoon,.5)},enableButoon:function(){this.startBtn.interactable=!0},setTime:function(){--a>-1?(this.secondsLabel.string=this.pad(a%60),this.minuteLabel.string=this.pad(parseInt(a/60))):(this.gameOverLayout.active=!0,this.loseGame.active=!0,this.winGame.active=!1,this.unschedule(this.setTime))},pad:function(t){var e=t+"";return e.length<2?"0"+e:e},winningGame:function(){cc.log("winningGame"),this.gameOverLayout.active=!0,this.loseGame.active=!1,this.winGame.active=!0},restartGame:function(){this.gameOverLayout.active=!1,this._currentTile=0,this._turnCount=0,this.moveAvatar(0,!1),a=90,this.schedule(this.setTime,1)},turnCarLeft:function(){this.avatar.scaleX=1},turnCarRight:function(){this.avatar.scaleX=-1}}),cc._RF.pop()},{}],tileController:[function(t,e,i){"use strict";cc._RF.push(e,"4eb4fnx8bpD8K6uKjfU2ms7","tileController"),cc.Class({extends:cc.Component,properties:{spriteFrame:{default:[],type:cc.SpriteFrame},tileSprite:{default:null,type:cc.Sprite}},onLoad:function(){},setUpTile:function(t){this.tileSprite.spriteFrame=this.spriteFrame[t]},start:function(){}}),cc._RF.pop()},{}]},{},["snakeLadderMainController","tileController"]);